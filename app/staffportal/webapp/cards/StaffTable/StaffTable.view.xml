<mvc:View
    controllerName="com.epic.yggdrasil.staffportal.cards.StaffTable.StaffTable"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <Table 
        id="innerStaffTable"
        busy="{uiModel>/isBusy}"
        items="{path: '/Staff',
                parameters: {count: true},
                templateShareable: true
        }"
        growing="true"
        growingThreshold="10"
        mode="SingleSelectMaster"
        sticky="HeaderToolbar,ColumnHeaders">
        <columns>
            <Column width="6rem">
                <Text text="Set as Filter" />
            </Column>
            <Column id="colName" visible="{ui>/settings/staffTable/columns/name}">
                <Text text="Employee" />
            </Column>
            <Column id="colEmail" visible="{ui>/settings/staffTable/columns/email}" width="10rem">
                <Text text="email" />
            </Column>
            <Column id="colDept" visible="{ui>/settings/staffTable/columns/dept}" width="18rem">
                <Text text="Department" />
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <Button 
                    icon="{= ${ID} === ${ui>/selectedEmployeeID} ? 'sap-icon://accept' : 'sap-icon://filter' }"
                    type="{= ${ID} === ${ui>/selectedEmployeeID} ? 'Emphasized' : 'Transparent' }"
                    press=".onSetAsFilter" />
                    <Text text="{name}" />
                    <Text text="{email}" />
                    <Text text="{dept/name}" />
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</mvc:View>